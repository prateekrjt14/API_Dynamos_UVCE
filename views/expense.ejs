<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/expense.css">
    <title>Student Expense-Tracker</title>
</head>
<body>
    <h1>My Expenses</h1>
    <div class="input-section">
        <label for="category-select">Category:</label>
        <select id="category-select">
            <option value="Tution Fees">Tuition Fees</option>
            <option value="Textbooks">Textbooks</option>
            <option value="Stationary">Stationery</option>
            <option value="Food">Food</option>
            <option value="Travel">Travel</option>
            <option value="Medicine">Medicine</option>
            <option value="Miscellaneous">Other Educational Expenses</option>
        </select>
        <label for="amount-input">Amount:</label>
        <input type="number" id="amount-input">
        <label for="date-input">Date:</label>
        <input type="date" id="date-input">
        <button id="add-btn">Add Expense</button>
    </div>
    
    <div class="expenses-list">
        <h2>Expenses List</h2>
        <table>
            <thead>
                <tr>
                    <th>Category</th>
                    <th>Amount</th>
                    <th>Date</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody id="expense-table-body">
                <% expenses.forEach(expense => { %>
                    <tr>
                        <td><%= expense.category %></td>
                        <td><%= expense.amount %></td>
                        <td><%= expense.dateOfTransaction %></td>
                        <td><button class="delete-btn" data-id="<%= expense.id %>">Delete</button></td>
                    </tr>
                <% }); %>
            </tbody>
            <tfoot>
                <tr>
                    <td>Total:</td>
                    <td id="total-amount"><%= totalAmount.toFixed(2) %></td>
                    <td></td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="summary-table-container">
        <div class="summary-table">
            <h2>Summary</h2>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Total Expense</th>
                    </tr>
                </thead>
                <tbody>
                    <% for (const category in categoryWiseTotal) { %>
                        <tr>
                            <td><%= category %></td>
                            <td><%= categoryWiseTotal[category] %></td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
            <p>Total Cost of All Expenses: <span id="total-cost"><%= totalAmount %></span></p>
        </div>
    </div>
    
    <script src="/javascripts/expense.js"></script>
</body>
</html>
